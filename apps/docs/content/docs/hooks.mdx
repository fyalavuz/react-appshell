---
title: Hooks
description: React hooks for accessing app shell state, scroll direction, and safe area insets.
---

## useAppShell

Returns the shared context value from the nearest `AppShellProvider`. Must be called inside an `AppShell` or `AppShellProvider`.

```tsx
import { useAppShell } from "@appshell/react";

function StatusBar() {
  const {
    headerVisible,
    footerVisible,
    scrollDirection,
    setHeaderVisible,
    setFooterVisible,
  } = useAppShell();

  return (
    <div>
      Header: {headerVisible ? "visible" : "hidden"} |
      Footer: {footerVisible ? "visible" : "hidden"} |
      Scrolling: {scrollDirection ?? "idle"}
    </div>
  );
}
```

### Return value

| Property | Type | Description |
| --- | --- | --- |
| `headerVisible` | `boolean` | Whether the header is currently visible |
| `footerVisible` | `boolean` | Whether the footer is currently visible |
| `scrollDirection` | `"up" \| "down" \| null` | Current scroll direction, `null` before first scroll |
| `setHeaderVisible` | `(visible: boolean) => void` | Imperatively show/hide the header |
| `setFooterVisible` | `(visible: boolean) => void` | Imperatively show/hide the footer |

Throws an error if called outside of an `AppShellProvider`.

## useScrollDirection

Tracks the current scroll direction using `requestAnimationFrame` for performance.

```tsx
import { useScrollDirection } from "@appshell/react";

function ScrollIndicator() {
  const direction = useScrollDirection();
  return <div>Scrolling: {direction ?? "idle"}</div>;
}
```

### Parameters

| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| `threshold` | `number` | `10` | Minimum scroll delta (in pixels) before the direction updates |

### Return value

Returns `"up"`, `"down"`, or `null` (before the first scroll event).

This hook can be used outside of `AppShellProvider`. It attaches a passive scroll listener and cleans up on unmount.

## useSafeArea

Returns the current safe area insets as pixel numbers. Measures `env(safe-area-inset-*)` via `getComputedStyle` and updates on window resize.

```tsx
import { useSafeArea } from "@appshell/react";

function BottomSheet() {
  const insets = useSafeArea(["bottom"]);
  return (
    <div style={{ paddingBottom: insets.bottom }}>
      Content above the home indicator
    </div>
  );
}
```

### Parameters

| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| `edges` | `SafeAreaEdge[]` | `["top", "bottom", "left", "right"]` | Which edges to measure |

### Return value

| Property | Type | Description |
| --- | --- | --- |
| `top` | `number` | Top inset in pixels (0 if not in `edges`) |
| `bottom` | `number` | Bottom inset in pixels (0 if not in `edges`) |
| `left` | `number` | Left inset in pixels (0 if not in `edges`) |
| `right` | `number` | Right inset in pixels (0 if not in `edges`) |
